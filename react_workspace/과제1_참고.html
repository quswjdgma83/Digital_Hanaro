<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <script
      crossorigin
      src="https://unpkg.com/react@18/umd/react.development.js"
    ></script>
    <script
      crossorigin
      src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"
    ></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
  </head>
  <body>
    <div id="root"></div>
    <script type="text/babel">
      ReactDOM.render(
        <div>
          <App />
        </div>,
        document.getElementById("root")
      );
      function App() {
        const [userInfoList, setUserInfoList] = React.useState([]);
        const [userInfo, setUserInfo] = React.useState({
          name: "홍길동",
          phone: "010-0000-0001",
          email: "hong@ddd.com",
        });
        //<input value={userInfo.name}  ~~~~~~
        //JSON해체하기
        const { name, phone, email } = userInfo; //모던스크립트의 해체
        //name = userInfo.name;
        //phone = userInfo.phone;
        //email = userInfo.email;
        const nameChange = (e) => {
          setUserInfo({ ...userInfo, name: e.target.value });
        };
        const phoneChange = (e) => {
          setUserInfo({ ...userInfo, phone: e.target.value });
        };
        const emailChange = (e) => {
          setUserInfo({ ...userInfo, email: e.target.value });
        };
        const append = () => {
          //userInfoList->배열
          setUserInfoList(userInfoList.concat(userInfo)); //추가
          setUserInfo({ name: "", phone: "", email: "" });
          window.document.querySelector("#name").focus();
        };
        return (
          <div>
            이름 :{" "}
            <input id="name" type="text" onChange={nameChange} value={name} />
            <br />
            전화번호 :{" "}
            <input type="text" onChange={phoneChange} value={phone} />
            <br />
            이메일 : <input type="text" onChange={emailChange} value={email} />
            <br />
            <span>
              {name}님의 전화번호는{phone}이고 이메일은 {email}이다
            </span>
            <button type="button" onClick={append}>
              추가
            </button>
            <hr />
            <table>
              {userInfoList.map((item, key) => {
                return (
                  <tr key={key}>
                    <td>{item.name}</td>
                    <td>{item.phone}</td>
                    <td>{item.email}</td>
                  </tr>
                );
              })}
            </table>
          </div>
        );
      }
    </script>
  </body>
</html>
